# ---- Tray / applets ---------------------------------------------------------

# Bluetooth applet in the system tray
exec-once = blueman-applet

# Notification daemon is managed via systemd (swaync), do not start here
# exec-once = dunst
# exec-once = swaync

# ---- Clipboard --------------------------------------------------------------

# Cliphist: populate clipboard history and keep watching for new items
exec-once = wl-paste --watch cliphist store

# ---- Idle / Lock ------------------------------------------------------------

# Hypridle: idle/lock/screen off handling (uses hypridle.conf)
exec-once = hypridle

# ---- Polkit -----------------------------------------------------------------

# Polkit agent (absolute path; do not use ${pkgs.â€¦} in this file)
exec-once = /run/current-system/sw/libexec/polkit-gnome-authentication-agent-1

# ---- Systemd user target ----------------------------------------------------

# Start the user target for systemd-managed services (waybar/swaync/hyprpaper)
exec-once = systemctl --user start hyprland-session.target

# ---- Hyprland env import (managed by systemd) --------------------------------
# A dedicated systemd unit (hyprland-env.service) already imports env; do not duplicate here.
# doe not start here, as they are already started as services
#exec-once = dbus-update-activation-environment --systemd --all
#exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_RUNTIME_DIR XDG_CURRENT_DESKTOP XDG_SESSION_TYPE XDG_SESSION_DESKTOP HYPRLAND_INSTANCE_SIGNATURE


# ---- Systemd-managed components (DO NOT start here) -------------------------

# IMPORTANT:
# - Waybar, hyprpaper and wallpaper timers are managed via systemd
# - Do NOT autostart them here to avoid race conditions or duplicate processes
#
# Reference:
#   - waybar:       waybar-managed.service (your HM-defined user unit)
#   - swaync:       systemd --user service
#   - hyprpaper:    owned by the waypaper module

