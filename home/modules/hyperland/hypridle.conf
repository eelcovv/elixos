general {
    # Pause media en start lock; gebruik de helper zodat alles consistent logt
    lock_cmd = playerctl --all-players pause || true; ~/.config/hypr/scripts/hypridle.sh lock

    # Lock vóór sleep (blijft prima zo)
    before_sleep_cmd = loginctl lock-session

    # Scherm weer aan na resume via de helper
    after_sleep_cmd = ~/.config/hypr/scripts/hypridle.sh dpms-on
}

# Dim screen backlight after inactivity (8 minutes)
listener {
    timeout = 480
    on-timeout = brightnessctl -s set 10
    on-resume  = brightnessctl -r
}

# Dim keyboard backlight if available (optional)
listener {
    timeout = 480
    on-timeout = brightnessctl -sd rgb:kbd_backlight set 0
    on-resume  = brightnessctl -rd rgb:kbd_backlight
}

# Lock screen after 10 minutes of inactivity
listener {
    timeout = 600
    on-timeout = ~/.config/hypr/scripts/hypridle.sh lock
}

# Turn screen off after 11 minutes of inactivity
listener {
    timeout = 660
    on-timeout = ~/.config/hypr/scripts/hypridle.sh dpms-off
    on-resume  = ~/.config/hypr/scripts/hypridle.sh dpms-on; brightnessctl -r
}

# Suspend system after 30 minutes of inactivity
#listener {
#    timeout = 1800
#    on-timeout = ~/.config/hypr/scripts/hypridle.sh suspend
#}

